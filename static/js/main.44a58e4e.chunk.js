(this["webpackJsonpzad-map"]=this["webpackJsonpzad-map"]||[]).push([[0],{258:function(e,t,n){e.exports=n(495)},276:function(e,t,n){},277:function(e,t,n){},293:function(e,t){},295:function(e,t){},327:function(e,t){},328:function(e,t){},393:function(e,t){},486:function(e,t,n){},491:function(e,t,n){},492:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(54),i=n.n(o),c=n(48),l=n(33),u=n(71),s=n(208),d=n(138),m=n(91),p=n(212),f=n(213);n(275);d.a.use(f.a).use(p.a).use(m.a).init({backend:{loadPath:"/locales/{{lng}}.json",crossDomain:!0},fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});d.a;var h=n(90),g=n(38),v=n.n(g),E=v()("2010-01-01"),O=v()("2016-01-01");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={date:O},j={};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={loading:!1,points:[]},_=function(e){return e.map((function(e){return D({},e,{date_end:v()(e.date_end),date_start:v()(e.date_start),latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)})}))},k=Object(c.c)({date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATE_SET":return y({},e,{date:t.date});default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;return t.type,e},videoPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIDEO_POINTS_REQUEST":return D({},e,{loading:!0});case"VIDEO_POINTS_RESPONSE":return D({},e,{points:_(t.data.Sheet1.elements)});case"VIDEO_POINTS_ERROR_RESPONSE":return D({},e,{error:t.error});default:return e}}}),N=(n(276),n(277),n(214)),T=n.n(N),M=function(){return function(e){e({type:"VIDEO_POINTS_REQUEST"}),T.a.init({key:"https://docs.google.com/spreadsheets/d/1JUccBmHZ2EkA5tNhmpj6fAUaOxU0dyg1eGITTYqYuiw/edit#gid=0"}).then((function(t){e({type:"VIDEO_POINTS_RESPONSE",data:t})})).catch((function(t){return e({type:"VIDEO_POINTS_ERROR_RESPONSE",error:t})}))}},I=n(25),z=n(74),R=(n(486),function(e){var t=Object(a.useState)({height:50,width:100}),n=Object(I.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(!1),u=Object(I.a)(c,2),s=u[0],d=u[1],p=Object(a.useRef)(null),f=Object(m.b)(),h=(f.t,f.i18n),g=Object(l.c)((function(e){return e.date.date})),O=Object(l.b)(),b=E.toDate(),y=new Date,w=z.b().domain([b,y]).range([0,o.width]),j=z.c.every(1).range(b,y),S=function(){var e=p.current.getBoundingClientRect();i({height:e.height,width:e.width})};return Object(a.useEffect)((function(){var e=p.current.getBoundingClientRect();return i({height:e.height,width:e.width}),window.addEventListener("resize",S),function(){return window.removeEventListener("resize",S)}}),[p]),r.a.createElement("div",{className:"DatePicker"},r.a.createElement("div",{className:"DatePicker-display"},g.locale(h.language).format("MMMM YYYY")),r.a.createElement("div",{className:"DatePicker-container"},r.a.createElement("svg",{ref:p,style:{height:"100%",width:"100%"},viewBox:"0 0 ".concat(o.width," ").concat(o.height),onMouseUp:function(){return d(!1)},onMouseLeave:function(){return d(!1)},onMouseMove:function(e){if(e.preventDefault(),s){var t=function(e){var t=p.current.getScreenCTM();return{x:(e.clientX-t.e)/t.a,y:(e.clientY-t.f)/t.d}}(e).x;O(function(e){return{date:e,type:"DATE_SET"}}(v()(w.invert(t))))}}},r.a.createElement("g",null,r.a.createElement("path",{d:z.a()([[w(b),o.height/2],[w(y),o.height/2]]),className:"timeline"})),r.a.createElement("g",null,j.map((function(e){return r.a.createElement("path",{key:e.toISOString(),d:z.a()([[w(e),o.height/2-o.height/4],[w(e),o.height/2+o.height/4]]),className:"tick"})}))),r.a.createElement("g",null,r.a.createElement("circle",{className:"current-date-marker",r:"10",cx:w(g.toDate()),cy:o.height/2,onMouseDown:function(){return d(!0)}})))))}),L=function(){return r.a.createElement(a.Suspense,{fallback:"loading"},r.a.createElement(R,null))},A=n(27),Z=n(215),x=n.n(Z),C=n(45),F=function(e){var t=e.onMouseEnter,n=e.onMouseLeave,a=e.onVideoSelect,o=Object(l.c)((function(e){return e.date.date})),i=Object(l.c)((function(e){return e.videoPoints.points})).filter((function(e){return o.isBetween(e.date_start,e.date_end,null,"[]")}));return r.a.createElement(A.b,{id:"videos",type:"circle",paint:{"circle-color":"#000000","circle-radius":15}},i.map((function(e){return r.a.createElement(A.a,{key:e.id,coordinates:[e.longitude,e.latitude],properties:e,onClick:function(e){return a(e.feature)},onMouseEnter:t,onMouseLeave:n})})))},V=n(216),B=(n(491),function(e){var t=e.onClose,n=e.selectedVideo,a=n.geometry,o=n.properties,i=o.video_url.slice(o.video_url.lastIndexOf("/")+1);return r.a.createElement(A.c,{coordinates:a.coordinates,className:"VideoPopup"},r.a.createElement("header",null,o.name_en,r.a.createElement("div",{className:"btn-close",onClick:function(){return t()}},"\xd7")),r.a.createElement(V.a,{video:i,autoplay:!0}))}),U=function(){return Object(a.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.d,{id:"zad_raster_source",tileJsonSource:{scheme:"tms",type:"raster",tiles:["./tiles/zad-2015/{z}/{x}/{y}.png"],tileSize:256}}),r.a.createElement(A.b,{type:"raster",id:"zad_raster_layer",sourceId:"zad_raster_source",minZoom:11}))}),[])},Y=(n(492),Object(A.f)({accessToken:""}));var J=function(e){var t=Object(a.useState)(null),n=Object(I.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(I.a)(c,2),u=l[0],s=l[1],d=Object(a.useState)(null),m=Object(I.a)(d,2),p=m[0],f=m[1],h=function(){var e=Object(C.d)().hash.slice(1).split("/").map(parseFloat),t=Object(I.a)(e,3),n=t[0],a=t[1],r=t[2];return n&&a&&r?{center:{lat:a,lng:r},zoom:n}:{}}();function g(e){var t=e.center,n=e.zoom,a=[];a.push(n.toFixed(1)),a.push(t.lat.toFixed(3)),a.push(t.lng.toFixed(3)),window.location.hash=a.join("/")}var v=[-1.734,47.349];o?v=o.getCenter():h.maplat&&h.maplng&&(v=[h.maplng,h.maplat]);var E=13;return o?E=o.getZoom():h.zoom&&(E=h.zoom),r.a.createElement("div",{className:x()("MapFrame",{"over-point":u})},r.a.createElement(Y,{style:"https://api.maptiler.com/maps/basic/style.json?key=RTkrAcFuX6L6NwSiRn6b",onStyleLoad:i,onMoveEnd:function(e){return g({center:e.getCenter(),zoom:e.getZoom()})},onZoomEnd:function(e){return g({center:e.getCenter(),zoom:e.getZoom()})},center:v,zoom:[E]},r.a.createElement(A.e,null),r.a.createElement(U,null),r.a.createElement(F,{onMouseEnter:function(e){return s(!0)},onMouseLeave:function(e){return s(!1)},onVideoSelect:function(e){return f(e)}}),p?r.a.createElement(B,{onClose:function(){return f(null)},selectedVideo:p}):null))},q=(n(494),function(){var e=Object(a.useState)(!1),t=Object(I.a)(e,2),n=t[0],o=t[1];return r.a.createElement("div",{className:"TextOverlay"},r.a.createElement("p",null,r.a.createElement("strong",null,"Architecture of La Zad")," is an online video archive chronicling moments in time at La ZAD, Notre-Dame-Des-Landes, France. Use this map to move through time and space on this 1650 hectare territory of wetland."),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(!1)}},"< less"),r.a.createElement("h2",null,"About La ZAD at Notre-Dame-Des-Landes"),r.a.createElement("p",null,"La ZAD (Zone a Def\xe9ndre) is a post-capitalist commune which formed as part of a resistance movement in opposition to the proposed A\xe9roport du Grand Ouest, planned to be built outside of Nantes, France. The airport would have paved over 1650 hectares of farmland, displacing farmers and destroying an important wetland ecosystem. Over the span of 10 years, farmers and environmental activists defended the parcel of land through squatting\u2013 living directly in the forest, building treehouses and huts, engaging in direct action, and growing food. Today, after two rounds of massive evictions and home demolitions, La ZAD remains as a commune living with the intention to support mutual aide and biodiversity."),r.a.createElement("p",null,"The purpose of this map is to make a living archive and continue to tell the story of a place which has been built and destroyed many times\u2013 a place which still struggles to exist\u2013 as well as to document the as of yet uncounted (somewhere in the range of 100 or more) imaginative, playful, temporary structures which emerged at the ZAD- each one its own microcosm, its own social realm. The purpose of the map is to bring participants into the feelings of inhabiting this particular space\u2013 peaceful moments, moments of conflict, of building, destruction, joy and loss."),r.a.createElement("p",null,"This project is a collaboration between Jaime Iglehart, Eric Brelsford, and Contributors from the ZAD.")):r.a.createElement("button",{onClick:function(){return o(!0)}},"more >"))});var G=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){return e(M())}),[e]),r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(q,null),r.a.createElement(J,null),r.a.createElement(L,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:Object(c.d)(k,Object(c.a)(s.a))},r.a.createElement(u.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[258,1,2]]]);
//# sourceMappingURL=main.44a58e4e.chunk.js.map